// nouns = 185 words; adjectives = 228 words
// so 4 characters of 64-bit values = 256 bits, enough to index into both word lists
const charsPerWord = 4;

function capitalize(word) {
  const [firstChar, ...restChars] = word;
  return `${firstChar.toUpperCase()}${restChars.join('')}`;
}

// convert base64 to decimal value of bits
// then use decimal value to index into wordList for word
// e.g. 'tE' = 46 + 5 = 51
function getWordFrom(base64String, wordList) {
  const base64Bits = base64String.split('').reduce((sum, c) => sum + base64Chars[c], 0);
  const word = wordList[base64Bits % wordList.length];
  return capitalize(word);
}

exports.getPhraseFromToken = function getPhraseFromToken(token) {
  const adjectiveBase64 = token.substr(0, charsPerWord);
  const nounBase64 = token.substr(token.length - charsPerWord, charsPerWord);

  return [
    // adjective
    getWordFrom(adjectiveBase64, adjectives),
    // noun
    getWordFrom(nounBase64, nouns),
  ].join(' ');
};

// 228 words
const adjectives = [
  'adorable',
  'adventurous',
  'aggressive',
  'agreeable',
  'alert',
  'alive',
  'amused',
  'angry',
  'annoyed',
  'annoying',
  'anxious',
  'arrogant',
  'ashamed',
  'attractive',
  'average',
  'awful',
  'bad',
  'beautiful',
  'better',
  'bewildered',
  'black',
  'bloody',
  'blue',
  'blue-eyed',
  'blushing',
  'bored',
  'brainy',
  'brave',
  'breakable',
  'bright',
  'busy',
  'calm',
  'careful',
  'cautious',
  'charming',
  'cheerful',
  'clean',
  'clear',
  'clever',
  'cloudy',
  'clumsy',
  'colorful',
  'combative',
  'comfortable',
  'concerned',
  'condemned',
  'confused',
  'cooperative',
  'courageous',
  'crazy',
  'creepy',
  'crowded',
  'cruel',
  'curious',
  'cute',
  'dangerous',
  'dark',
  'dead',
  'defeated',
  'defiant',
  'delightful',
  'depressed',
  'determined',
  'different',
  'difficult',
  'disgusted',
  'distinct',
  'disturbed',
  'dizzy',
  'doubtful',
  'drab',
  'dull',
  'eager',
  'easy',
  'elated',
  'elegant',
  'embarrassed',
  'enchanting',
  'encouraging',
  'energetic',
  'enthusiastic',
  'envious',
  'evil',
  'excited',
  'expensive',
  'exuberant',
  'fair',
  'faithful',
  'famous',
  'fancy',
  'fantastic',
  'fierce',
  'filthy',
  'fine',
  'foolish',
  'fragile',
  'frail',
  'frantic',
  'friendly',
  'frightened',
  'funny',
  'gentle',
  'gifted',
  'glamorous',
  'gleaming',
  'glorious',
  'good',
  'gorgeous',
  'graceful',
  'grieving',
  'grotesque',
  'grumpy',
  'handsome',
  'happy',
  'healthy',
  'helpful',
  'helpless',
  'hilarious',
  'homeless',
  'homely',
  'horrible',
  'hungry',
  'hurt',
  'ill',
  'important',
  'impossible',
  'inexpensive',
  'innocent',
  'inquisitive',
  'itchy',
  'jealous',
  'jittery',
  'jolly',
  'joyous',
  'kind',
  'lazy',
  'light',
  'lively',
  'lonely',
  'long',
  'lovely',
  'lucky',
  'magnificent',
  'misty',
  'modern',
  'motionless',
  'muddy',
  'mushy',
  'mysterious',
  'nasty',
  'naughty',
  'nervous',
  'nice',
  'nutty',
  'obedient',
  'obnoxious',
  'odd',
  'old-fashioned',
  'open',
  'outrageous',
  'outstanding',
  'panicky',
  'perfect',
  'plain',
  'pleasant',
  'poised',
  'poor',
  'powerful',
  'precious',
  'prickly',
  'proud',
  'putrid',
  'puzzled',
  'quaint',
  'real',
  'relieved',
  'repulsive',
  'rich',
  'scary',
  'selfish',
  'shiny',
  'shy',
  'silly',
  'sleepy',
  'smiling',
  'smoggy',
  'sore',
  'sparkling',
  'splendid',
  'spotless',
  'stormy',
  'strange',
  'stupid',
  'successful',
  'super',
  'talented',
  'tame',
  'tasty',
  'tender',
  'tense',
  'terrible',
  'thankful',
  'thoughtful',
  'thoughtless',
  'tired',
  'tough',
  'troubled',
  'ugliest',
  'ugly',
  'uninterested',
  'unsightly',
  'unusual',
  'upset',
  'uptight',
  'vast',
  'victorious',
  'vivacious',
  'wandering',
  'weary',
  'wicked',
  'wide-eyed',
  'wild',
  'witty',
  'worried',
  'worrisome',
  'wrong',
  'zany',
  'zealous',
];

// 185 words
const nouns = [
  'actor',
  'gold',
  'painting',
  'advertisement',
  'grass',
  'parrot',
  'afternoon',
  'greece',
  'pencil',
  'airport',
  'guitar',
  'piano',
  'ambulance',
  'hair',
  'pillow',
  'animal',
  'hamburger',
  'pizza',
  'answer',
  'helicopter',
  'planet',
  'apple',
  'helmet',
  'plastic',
  'army',
  'holiday',
  'portugal',
  'australia',
  'honey',
  'potato',
  'balloon',
  'horse',
  'queen',
  'banana',
  'hospital',
  'quill',
  'battery',
  'house',
  'rain',
  'beach',
  'hydrogen',
  'rainbow',
  'beard',
  'ice',
  'raincoat',
  'bed',
  'insect',
  'refrigerator',
  'belgium',
  'insurance',
  'restaurant',
  'boy',
  'iron',
  'river',
  'branch',
  'island',
  'rocket',
  'breakfast',
  'jackal',
  'room',
  'brother',
  'jelly',
  'rose',
  'camera',
  'jewellery',
  'russia',
  'candle',
  'jordan',
  'sandwich',
  'car',
  'juice',
  'school',
  'caravan',
  'kangaroo',
  'scooter',
  'carpet',
  'king',
  'shampoo',
  'cartoon',
  'kitchen',
  'shoe',
  'china',
  'kite',
  'soccer',
  'church',
  'knife',
  'spoon',
  'crayon',
  'lamp',
  'stone',
  'crowd',
  'lawyer',
  'sugar',
  'daughter',
  'leather',
  'sweden',
  'death',
  'library',
  'teacher',
  'denmark',
  'lighter',
  'telephone',
  'diamond',
  'lion',
  'television',
  'dinner',
  'lizard',
  'tent',
  'disease',
  'lock',
  'thailand',
  'doctor',
  'london',
  'tomato',
  'dog',
  'lunch',
  'toothbrush',
  'dream',
  'machine',
  'traffic',
  'dress',
  'magazine',
  'train',
  'easter',
  'magician',
  'truck',
  'egg',
  'manchester',
  'uganda',
  'eggplant',
  'market',
  'umbrella',
  'egypt',
  'match',
  'van',
  'elephant',
  'microphone',
  'vase',
  'energy',
  'monkey',
  'vegetable',
  'engine',
  'morning',
  'vulture',
  'england',
  'motorcycle',
  'wall',
  'evening',
  'nail',
  'whale',
  'eye',
  'napkin',
  'window',
  'family',
  'needle',
  'wire',
  'finland',
  'nest',
  'xylophone',
  'fish',
  'nigeria',
  'yacht',
  'flag',
  'night',
  'yak',
  'flower',
  'notebook',
  'zebra',
  'football',
  'ocean',
  'zoo',
  'forest',
  'oil',
  'garden',
  'fountain',
  'orange',
  'gas',
  'france',
  'oxygen',
  'girl',
  'furniture',
  'oyster',
  'glass',
  'garage',
  'ghost',
];

const base64Chars = {
  '=': 0,
  A: 1,
  B: 2,
  C: 3,
  D: 4,
  E: 5,
  F: 6,
  G: 7,
  H: 8,
  I: 9,
  J: 10,
  K: 11,
  L: 12,
  M: 13,
  N: 14,
  O: 15,
  P: 16,
  Q: 17,
  R: 18,
  S: 19,
  T: 20,
  U: 21,
  V: 22,
  W: 23,
  X: 24,
  Y: 25,
  Z: 26,
  a: 27,
  b: 28,
  c: 29,
  d: 30,
  e: 31,
  f: 32,
  g: 33,
  h: 34,
  i: 35,
  j: 36,
  k: 37,
  l: 38,
  m: 39,
  n: 40,
  o: 41,
  p: 42,
  q: 43,
  r: 44,
  s: 45,
  t: 46,
  u: 47,
  v: 48,
  w: 49,
  x: 50,
  y: 51,
  z: 52,
  0: 53,
  1: 54,
  2: 55,
  3: 56,
  4: 57,
  5: 58,
  6: 59,
  7: 60,
  8: 61,
  9: 62,
  '+': 63,
  '/': 64,
};
